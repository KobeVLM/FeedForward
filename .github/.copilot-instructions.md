# FeedForward Feedback Management System - Copilot Instructions

## Project Overview

FeedForward is a comprehensive feedback management platform designed for academic institutions to collect, categorize, and manage feedback from students and staff. The system ensures smooth communication and accountability between users and departments through organized feedback handling.

## Technical Stack

### Backend

- **Framework**: Spring Boot (Java/Maven)
- **Dependencies**: Spring Data JPA, Spring Web, Spring Boot DevTools, MySQL Driver
- **Database**: MySQL
- **API Design**: RESTful conventions with `/api/v1/` base URL

### Frontend

- **Framework**: React (ES6+)
- **UI Library**: Material UI
- **HTTP Client**: Axios for API calls
- **Component Style**: Functional components with hooks

## Project Structure & Architecture

### Backend Package Organization

The backend follows a 4-layer architecture with packages:

- `entity/` - Database models and JPA entities
- `repository/` - Data access layer (Spring Data JPA repositories)
- `service/` - Business logic layer
- `controller/` - REST API endpoints and request handling

### Entity Naming Convention

For each entity in the ERD, create corresponding classes across all packages:

```
Example for "Student" entity:
- StudentEntity.java (entity package)
- StudentRepository.java (repository package)
- StudentService.java (service package)
- StudentController.java (controller package)
```

## Core Entities

The system manages the following key entities:

- **User**: Students, staff, and administrators with roles and department affiliations
- **Role**: Access permissions and responsibilities (Student, Staff, Admin)
- **Department**: Organizational units for feedback routing
- **Feedback**: Central entity for submitted feedback with status tracking
- **Category**: Feedback classification (Facilities, Academics, Services)
- **Tag**: Flexible labeling system (Urgent, Suggestion, Complaint)
- **Response**: Staff/admin replies to feedback
- **Attachment**: File uploads related to feedback

## Code Style Guidelines

### Java (Backend)

- **Naming**: PascalCase for classes, camelCase for variables and methods
- **Structure**: Follow standard Java conventions
- **Comments**: Include class and method-level documentation explaining purpose
- **Example**:

```java
/**
 * Service class for managing feedback operations
 */
@Service
public class FeedbackService {

    /**
     * Creates new feedback entry
     * @param feedbackData The feedback information to save
     * @return Created feedback entity
     */
    public FeedbackEntity createFeedback(FeedbackEntity feedbackData) {
        // Implementation here
    }
}
```

### JavaScript/React (Frontend)

- **Naming**: camelCase for variables and functions, PascalCase for components
- **Indentation**: 2 spaces
- **Components**: Functional components with hooks only
- **Comments**: Brief inline explanations for important logic
- **Example**:

```javascript
/**
 * Component for displaying feedback submission form
 */
const FeedbackForm = () => {
  const [feedbackData, setFeedbackData] = useState({});

  // Handle form submission to backend API
  const handleSubmit = async (event) => {
    // Implementation here
  };

  return (
    // Material UI components here
  );
};
```

## API Design Standards

### REST Conventions

- **Base URL**: `/api/v1/`
- **Endpoints**: Use plural nouns (`/feedbacks`, `/users`, `/departments`)
- **HTTP Methods**:
  - GET for retrieval
  - POST for creation
  - PUT for updates
  - DELETE for removal

### Response Format

All API responses should follow this consistent JSON structure:

```json
{
  "success": true/false,
  "data": { /* response data */ },
  "message": "Descriptive message"
}
```

### Status Codes

- 200: Success
- 201: Created
- 400: Bad Request
- 404: Not Found
- 500: Internal Server Error

## Error Handling

### Backend (Spring Boot)

- Use try-catch blocks around business logic
- Return appropriate HTTP status codes
- Provide clear error messages in JSON format
- Example:

```java
try {
    // Business logic
    return ResponseEntity.ok(response);
} catch (Exception e) {
    return ResponseEntity.status(500)
        .body(new ApiResponse(false, null, "Error processing request"));
}
```

### Frontend (React)

- Use `.catch()` with Axios requests
- Display user-friendly error messages via Material UI alerts/dialogs
- Example:

```javascript
axios
  .post("/api/v1/feedbacks", data)
  .then((response) => {
    // Handle success
  })
  .catch((error) => {
    // Show user-friendly error message
    setErrorMessage("Failed to submit feedback. Please try again.");
  });
```

## Database Design

- Follow the ERD structure with proper relationships
- Use JPA annotations for entity mapping
- Implement foreign key relationships between entities
- Include timestamp fields (createdAt, updatedAt, etc.) for tracking

## User Roles & Permissions (Future Implementation)

- **Student**: Submit and view own feedback
- **Staff**: View and respond to department feedback
- **Admin**: Manage all feedback and user accounts

## Security Considerations (Future Implementation)

- Authentication and authorization will be added in later sprints
- Input validation for university email format
- File upload restrictions by type and size
- Feedback message length limits

## Testing Strategy

- **Current Phase**: Basic development without extensive testing
- **Future Implementation**:
  - JUnit for backend unit tests (service and repository layers)
  - Integration tests for backend-frontend communication
  - Jest/React Testing Library for frontend components

## Development Workflow

1. **Entity First**: Start with entity definitions based on ERD
2. **Repository Layer**: Implement data access methods
3. **Service Layer**: Add business logic
4. **Controller Layer**: Create REST endpoints
5. **Frontend Components**: Build React components with Material UI
6. **API Integration**: Connect frontend to backend via Axios

## File Upload Handling

- Store file metadata in Attachment entity
- Include fields: FilePath, FileName, ContentType, FileSize, UploadedBy, UploadedAt
- Link attachments to feedback via FeedbackID

## Status Management

Feedback should progress through these statuses:

- Pending
- InReview
- Responded
- Resolved

Track status changes with appropriate timestamp fields.

## Documentation Standards

- Include README files for setup and usage instructions
- Comment complex business logic
- Document API endpoints with expected request/response formats
- Keep documentation updated as features are added

## Logging

- **Development**: Use console outputs for debugging
- **Future**: Implement SLF4J logging framework for backend
- Log important business operations and errors

## Commit Message Conventions

Follow conventional commit format for clear project history and automated tooling compatibility:

### Format

```
<type>(<scope>): <description>

[optional body]

[optional footer(s)]
```

### Commit Types

- **feat**: New feature for the user or a particular component
- **fix**: Bug fix for the user, not a fix to build script
- **docs**: Changes to documentation only
- **style**: Formatting, missing semicolons, etc; no production code change
- **refactor**: Refactoring production code, e.g., renaming variables
- **test**: Adding missing tests, refactoring tests; no production code change
- **chore**: Updating grunt tasks, build configurations, etc; no production code change
- **perf**: Performance improvements
- **ci**: Changes to CI configuration files and scripts
- **build**: Changes that affect the build system or external dependencies

### Scope (Optional)

Specify the component or area affected:

- **backend**: Spring Boot related changes
- **frontend**: React related changes
- **entity**: Database entity modifications
- **api**: REST API changes
- **ui**: User interface changes
- **auth**: Authentication/authorization
- **db**: Database schema or migration changes

### Examples

```bash
feat(backend): add feedback submission endpoint
fix(frontend): resolve Material UI styling issue
docs: update API documentation for user endpoints
refactor(entity): rename FeedbackEntity properties
test(backend): add unit tests for FeedbackService
chore(build): update Maven dependencies
style(frontend): format React components with prettier
```

### Guidelines

- Use lowercase for type and scope
- Keep description under 50 characters
- Use imperative mood ("add" not "added" or "adds")
- Include body for complex changes explaining "what" and "why"
- Reference issue numbers in footer if applicable

---

_Note: This is a living document that will be updated as the project evolves and new requirements are added._
